// Цветовая схема
bgColor = #fff
textColor = #000
linkColor = #c0c0c0
activeLinkColor = #808080
navBgColor = #f7f7f7
navShadow = -5px 0px 8px alpha(#000, 0.1)
roastbeefBgColor = alpha(#fff, .8)

// Основные теги
*
  box-sizing border-box

html
body
  width 100%
  margin 0
  font-family Georgia, serif
  font-size 18px
  line-height 1.3
  background bgColor
  color textColor
  
  @media (max-width: 400px)
    font-size calc(15px + (18 - 15) * (100vw - 320px) / (400 - 320))

a
  text-decoration none
  
  &:link
  &:visited
    color linkColor

  &:hover
  &:active
  &.active
    color activeLinkColor
  
  &:hover
    text-decoration underline

sup
  display none


/**
 * Навигация
 */
nav
  font-family Arial, Helvetica, sans-serif
  
  .chptr
    @media (max-width: 700px)
    	display none 
  
  .short
    display none
    
    @media (max-width: 1200px)
    	display inline 
      
  .long
    @media (max-width: 1200px)
    	display none

  
  // Главы
  &#chapters
    display flex
    justify-content space-around
    padding 10px 42px 10px 12px
    line-height 20px

  // Переход к следующей или предыдущей главе — внизу
  &#next
    padding 1.3em 1em
    display flex
    justify-content space-between
    color silver


  // Кнопка открывания менюшки со строфами
  &#permanent
    a:hover
      text-decoration none
      
    #roast-beef
      display block
      position fixed
      top 0
      right 0
      font-size 20px
      line-height 20px
      padding 10px 12px
      color activeLinkColor
      background-color roastbeefBgColor
      z-index 10
    
      
  // Менюшка со строфами 
  &#anchors
    position fixed
    background-color navBgColor
    width 300px
    height 100%
    top 0
    right 0
    transform translateX(310px)
    transition transform 300ms ease-in
    padding 40px 0 4em
    font-size 16px
    line-height 2
    overflow-y scroll
    overflow-x hidden
    -webkit-overflow-scrolling touch
    box-shadow navShadow
    z-index 20
    
    @media (max-width: 400px)
      width 150px

    &.open
      transform translateX(0)
      transition transform 300ms ease-out

    > a
      display block
      position relative
      padding 0 1em
      white-space nowrap
      
      @media (max-width: 700px)  
        padding 0 .5em
      
      &:before
        content ""
        position absolute
        top 0
        right 0
        height 100%
        width 40px
        background linear-gradient(to right, rgba(255,255,255,0) 0%, rgba(247,247,247,1) 100%)

      &:hover
        text-decoration none


/**
 * Основной текст
 */
main
  // Основной текст
  .text
    margin 0 auto
    width 20em
    
    @media (max-width: 700px)  
      margin 0 auto

    @media (max-width: 400px)
        margin 0 5vw
        width 90vw

// ГЛАВА
h2
  margin-top 2em

// Конец
h4
  margin-bottom 2.6em

h2
h3
h4
  margin-right 3em
  text-align center
  
  @media (max-width: 400px)
    margin-right 0

// эпиграф
quote
  display block
  text-align right
  font-size 80%

  > div
    display inline-block
    width 10em
    margin-bottom .5em
    text-align left

quote + quote
  margin-top 1em

p
  white-space pre
  margin 0
  
  &:last-child
    margin-bottom 2.6em

p + p
  margin-top 1.3em
